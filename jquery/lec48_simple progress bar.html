<!--
지금까지 배운 것들 정리 겸 연습~
animate를 통해 innerDiv의 width를 변경시켜주면, progress bar를 쉽게 만들 수 있습니다.
innerDiv의 width를 실시간으로 숫자로 표현하고 싶으면, 아래 showPercentage()처럼 하면 됩니다ㅋ.
47강_1.html에서처럼 똑같이 setTimeout을 이용해서, 10ms마다 계속 fire하도록 해뒀습니다.
-->

<!DOCTYPE html>
<html>
  <head>
    <title></title>
    <script src='jquery-3.1.1.js'></script>
    <script type='text/javascript'>
      $(document).ready(function(){
        $('#selectPercentage').change(function(){
          animateProgressBar($('#selectPercentage').val());
        });
        
        var innerDiv=$('#innerDiv');
        
        function animateProgressBar(percentageCompleted)
        {
          innerDiv.animate({'width':(5*percentageCompleted)},2000);
          showPercentage();
        }
        
        //setTimeout을 이용해서, showPercentage()가 100ms 마다 계속 fire하도록!!
        //참고: Math.ceil: 반올림~
        function showPercentage()
        {
          innerDiv.text(Math.ceil(innerDiv.width()/5) + ' %');
          setTimeout(showPercentage,10);
        }
      });
    </script>
  </head>
  <body>
    Select Percentage:
    <select id='selectPercentage'>
      <option value='0'>0</option>
      <option value='10'>10</option>
      <option value='20'>20</option>
      <option value='30'>30</option>
      <option value='40'>40</option>
      <option value='50'>50</option>
      <option value='60'>60</option>
      <option value='70'>70</option>
      <option value='80'>80</option>
      <option value='90'>90</option>
      <option value='100'>100</option>
    </select>
    <br/><br/>
    <div id="outerDiv" style="background-color:#EEEEEE; height:20px; width:500px; border-radius:5px 5px 5px 5px; padding:3px">
      <div id="innerDiv" style="background-color:blue; height:19px; width:0px; color:#EEEEEE; border-radius: 4px 4px 4px 4px; text-align:center"></div>
    </div>
  </body>
</html>